@model pokedex.Models.Pokemon

@{
    ViewData["Title"] = "Pok√©dex";
}

<div class="container-fluid pokedex-container">

    <!-- Barra superior estilo Pok√©dex -->
    <div class="row bg-dark text-white p-2 align-items-center pokedex-header">
        <div class="col">
            <h4 class="m-0 fw-bold">Pok√©dex - Info</h4>
        </div>
        <div class="col-auto lights">
            <span class="light red"></span>
            <span class="light yellow"></span>
            <span class="light green"></span>
        </div>
    </div>

    <!-- Caixa de pesquisa -->
    <div class="row mt-3">
        <div class="col-12">
            <form asp-controller="Pokedex" asp-action="Search" method="post" class="d-flex search-box">
                <input type="text" name="name" class="form-control me-2" placeholder="Digite o nome ou n√∫mero do Pok√©mon" />
                <button type="submit" class="btn btn-danger">üîç Buscar</button>
            </form>
        </div>
    </div>

    @if(ViewBag.Error != null)
    {
        <div class="row mt-3">
            <div class="col">
                <div class="alert alert-danger">@ViewBag.Error</div>
            </div>
        </div>
    }
    
    @if(Model != null)
    {

        <div class="carousel-container position-relative">

            <form asp-controller="Pokedex" asp-action="Search" method="post" class="d-flex search-box">
                <input type="hidden" name="name" value="@(Model.Id > 1 ? Model.Id - 1 : 1)" />
                <button type="submit" class="carousel-btn prev btn btn-danger">‚óÄ</button>
            </form>

            <form asp-controller="Pokedex" asp-action="Search" method="post" class="d-flex search-box">
                <input type="hidden" name="name" value="@(Model.Id + 1)" />
                <button type="submit" class="carousel-btn next btn btn-danger">‚ñ∂</button>
            </form>

        </div>

        <!-- Conte√∫do principal -->
        <div class="row mt-4">
            
            <!-- Tela do Pok√©mon -->
            <div class="col-md-4 text-center">
                <div class="screen-frame shadow">
                    <div class="screen">
                        <img src="@Model.Sprite" alt="@Model.Name" class="pokemon-img">
                    </div>
                </div>
            </div>

            <!-- Nome, Tipos e Dados -->
            <div class="col-md-8">
                <div class="info-card shadow mb-3">
                    <h3 class="text-capitalize fw-bold">@Model.Name <small>[#@Model.Id]</small></h3>
                </div>

                <div class="row">
                    <!-- Tipos -->
                    <div class="col-md-6">
                        <div class="info-card shadow">
                            <p class="fw-bold">Tipo</p>
                            @foreach(var type in Model.Types)
                            {
                                <span class="badge type-badge text-capitalize me-1">@type</span>
                            }
                        </div>
                    </div>

                    <!-- Altura e Peso -->
                    <div class="col-md-6">
                        <div class="info-card shadow">
                            <p><b>HT:</b> @Model.Height m</p>
                            <p><b>WT:</b> @Model.Weight kg</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
</div>

<style>
/* Moldura da Pok√©dex */
.pokedex-container {
    background: linear-gradient(145deg, #c62828, #b71c1c);
    border: 8px solid #212121;
    border-radius: 20px;
    padding: 20px;
    box-shadow: 6px 6px 0 #000;
    min-height: 100vh;
}

/* Header */
.pokedex-header {
    border-bottom: 4px solid #000;
    border-radius: 10px;
}
.lights .light {
    width: 15px;
    height: 15px;
    display: inline-block;
    margin-left: 6px;
    border-radius: 50%;
}
.lights .red { background: #ff1744; }
.lights .yellow { background: #ffeb3b; }
.lights .green { background: #00e676; }

/* Caixa de pesquisa */
.search-box input {
    border: 2px solid #000;
    border-radius: 8px;
}

/* Tela do Pok√©mon */
.screen-frame {
    background: #212121;
    border: 6px solid #000;
    border-radius: 15px;
    padding: 10px;
}
.screen {
    background: #000;
    border: 4px inset #444;
    border-radius: 10px;
    padding: 20px;
    min-height: 220px;
    display: flex;
    justify-content: center;
    align-items: center;
}
.pokemon-img {
    width: 150px;
    height: 150px;
}

/* Cards de info */
.info-card {
    background: #f5f5f5;
    border: 3px solid #000;
    border-radius: 12px;
    padding: 15px;
    margin-bottom: 15px;
}

/* Tipos */
.type-badge {
    padding: 8px 12px;
    border: 2px solid #000;
    border-radius: 12px;
    font-size: 0.9rem;
    font-weight: bold;
    background-color: #2196f3;
}

/* Carrossel */
.carousel-container {
    position: relative;
    width: 100%;
    margin-top: 40px;
}

/* Bot√µes carrossel */
.carousel-btn {
    position: absolute;
    top: 90%;
    transform: translateY(-50%);
    z-index: 5;
    font-size: 1.5rem;
    border-radius: 50%;
    padding: 10px 15px;
}
.carousel-btn.prev { left: -40px; }
.carousel-btn.next { right: -40px; }

</style>
